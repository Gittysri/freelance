import{l as v}from"./preact.module.d85daf38.js";let r=[],_=(u,t)=>{let n,l=[],i={lc:0,l:t||0,value:u,set(s){i.value=s,i.notify()},get(){return i.lc||i.listen(()=>{})(),i.value},notify(s){n=l;let f=!r.length;for(let e=0;e<n.length;e+=2)r.push(n[e],i.value,s,n[e+1]);if(f){for(let e=0;e<r.length;e+=4){let o=!1;for(let a=e+7;a<r.length;a+=4)if(r[a]<r[e+3]){o=!0;break}o?r.push(r[e],r[e+1],r[e+2],r[e+3]):r[e](r[e+1],r[e+2])}r.length=0}},listen(s,f){return l===n&&(l=l.slice()),i.lc=l.push(s,f||i.l)/2,()=>{l===n&&(l=l.slice());let e=l.indexOf(s);~e&&(l.splice(e,2),i.lc--,i.lc||i.off())}},subscribe(s,f){let e=i.listen(s,f);return s(i.value),e},off(){}};return i},p=(u={})=>{let t=_(u);return t.setKey=function(n,l){typeof l>"u"?n in t.value&&(t.value={...t.value},delete t.value[n],t.notify(n)):t.value[n]!==l&&(t.value={...t.value,[n]:l},t.notify(n))},t};const h=_(!1),c=p({});function g({id:u,name:t,imageSrc:n}){const l=c.get()[u];l?c.setKey(u,{...l,quantity:l.quantity+1}):c.setKey(u,{id:u,name:t,imageSrc:n,quantity:1})}var d=0;function m(u,t,n,l,i,s){var f,e,o={};for(e in t)e=="ref"?f=t[e]:o[e]=t[e];var a={type:u,props:o,key:n,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--d,__source:i,__self:s};if(typeof u=="function"&&(f=u.defaultProps))for(e in f)o[e]===void 0&&(o[e]=f[e]);return v.vnode&&v.vnode(a),a}export{g as a,c,h as i,m as o};
